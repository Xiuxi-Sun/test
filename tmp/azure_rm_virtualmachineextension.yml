 - name: Create a VirtualMachineExtension
   azure_rm_virtualmachineextension:
     resource_group_name: my_resource_group_name
     vm_name: my_vm_name
     vm_extension_name: my_vm_extension_name
     force_update_tag: my_force_update_tag
     publisher: my_publisher
     type_properties_type: my_type_properties_type
     type_handler_version: my_type_handler_version
     auto_upgrade_minor_version: true
     enable_automatic_upgrade: true
   

 - name: Update the VirtualMachineExtension (no change)
   azure_rm_virtualmachineextension:
     resource_group_name: my_resource_group_name
     vm_name: my_vm_name
     vm_extension_name: my_vm_extension_name
     force_update_tag: my_force_update_tag
     publisher: my_publisher
     type_properties_type: my_type_properties_type
     type_handler_version: my_type_handler_version
     auto_upgrade_minor_version: true
     enable_automatic_upgrade: true
   

 - name: Update the VirtualMachineExtension
   azure_rm_virtualmachineextension:
     resource_group_name: my_resource_group_name
     vm_name: my_vm_name
     vm_extension_name: my_vm_extension_name
     force_update_tag: my_force_update_tag22
     publisher: my_publisher22
     type_properties_type: my_type_properties_type2
     type_handler_version: my_type_handler_version22
     auto_upgrade_minor_version: true22
     enable_automatic_upgrade: true22
   

 - name: Delete the VirtualMachineExtension
   azure_rm_virtualmachineextension:
     resource_group_name: my_resource_group_name
     vm_name: my_vm_name
     vm_extension_name: my_vm_extension_name
     state: absent
   
